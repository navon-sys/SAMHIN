/**
 * Project: SAMHIN First Draft
 * Author: Vishavdeep Sharma
 * Company: Navonsys Inc
 * Date: 2026-02-26
 * Description: Manages donation processing, including custom amounts, frequency, and payment methods.
 */
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Donate ‚Äì SAMHIN</title>
<link rel="stylesheet" href="shared.css">
<style>
.donate-layout { display: grid; grid-template-columns: 1fr 360px; gap: 32px; align-items: start; }
.donate-card { background: white; border-radius: 16px; border: 1.5px solid var(--light-border); padding: 36px; }
.amount-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; }
.amount-btn { background: white; border: 2px solid var(--light-border); border-radius: 10px; padding: 14px 8px; text-align: center; cursor: pointer; transition: all 0.2s; font-family: 'DM Sans', sans-serif; }
.amount-btn:hover, .amount-btn.selected { border-color: var(--deep-teal); background: var(--deep-teal); color: white; }
.amount-btn .label { font-size: 1.2rem; font-weight: 700; display: block; }
.amount-btn .sub { font-size: 0.7rem; color: var(--mid-gray); margin-top: 3px; }
.amount-btn.selected .sub { color: rgba(255,255,255,0.7); }
.freq-toggle { display: flex; background: var(--warm-cream); border-radius: 10px; padding: 4px; margin-bottom: 24px; }
.freq-btn { flex: 1; padding: 10px; text-align: center; border-radius: 8px; cursor: pointer; font-size: 0.88rem; font-weight: 600; transition: all 0.2s; border: none; background: transparent; }
.freq-btn.active { background: var(--deep-teal); color: white; }
.payment-methods { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 24px; }
.pay-method { border: 2px solid var(--light-border); border-radius: 10px; padding: 14px; text-align: center; cursor: pointer; transition: all 0.2s; }
.pay-method:hover, .pay-method.selected { border-color: var(--deep-teal); }
.pay-method .icon { font-size: 1.5rem; margin-bottom: 4px; }
.pay-method .name { font-size: 0.78rem; font-weight: 600; }
.donor-scroll { max-height: 260px; overflow-y: auto; }
.donor-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--light-border); }
.donor-item:last-child { border-bottom: none; }
.donor-item .name { font-size: 0.88rem; font-weight: 600; }
.donor-item .time { font-size: 0.75rem; color: var(--mid-gray); }
.donor-item .amount { font-size: 0.88rem; font-weight: 700; color: var(--deep-teal); }
.impact-uses { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-bottom: 28px; }
.impact-use { background: var(--warm-cream); border-radius: 12px; padding: 16px; }
.impact-use .icon { font-size: 1.5rem; margin-bottom: 6px; }
.impact-use h4 { font-size: 0.88rem; font-weight: 700; margin-bottom: 4px; }
.impact-use p { font-size: 0.78rem; color: var(--mid-gray); line-height: 1.5; }
.popup-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; }
.popup-overlay.show { display: flex; }
.popup-box { background: white; border-radius: 16px; padding: 32px; max-width: 460px; width: 90%; text-align: center; position: relative; }
.popup-box .popup-icon { font-size: 3rem; margin-bottom: 12px; }
@media(max-width:900px) { .donate-layout { grid-template-columns: 1fr; } .amount-grid { grid-template-columns: repeat(2, 1fr); } }
</style>
</head>
<body>
<div class="top-bar" id="top-bar"></div>
<nav id="main-nav"></nav>

<!-- Year-end popup - shown in Nov/Dec -->
<div class="popup-overlay" id="yearend-popup">
  <div class="popup-box">
    <button onclick="document.getElementById('yearend-popup').classList.remove('show')" style="position:absolute;top:12px;right:16px;background:none;border:none;font-size:1.3rem;cursor:pointer;color:var(--mid-gray)">‚úï</button>
    <div class="popup-icon">üéÅ</div>
    <h3 style="font-family:'Lora',serif;font-size:1.3rem;margin-bottom:8px">Donate Before December 31st</h3>
    <p style="font-size:0.88rem;color:var(--mid-gray);line-height:1.6;margin-bottom:20px">Your donation is tax-deductible if made before year-end. Support SAMHIN's mission and reduce your tax bill ‚Äî a win for everyone.</p>
    <a href="#donate-form" class="btn-primary" onclick="document.getElementById('yearend-popup').classList.remove('show')">Donate Now & Save on Taxes</a>
  </div>
</div>

<div class="page-hero">
  <div class="page-hero-inner">
    <div class="breadcrumb"><a href="index.html">Home</a> ‚Ä∫ Donate</div>
    <h1>Support SAMHIN's Mission</h1>
    <p>Your gift ‚Äî no matter the size ‚Äî helps South Asians access free mental health resources, support groups, and culturally aware care.</p>
  </div>
</div>

<section class="section section-cream" id="donate-form">
  <div class="donate-layout">
    <!-- FORM -->
    <div>
      <div class="donate-card">
        <h2 style="font-family:'Lora',serif;font-size:1.4rem;margin-bottom:6px">Make a Donation</h2>
        <p style="font-size:0.85rem;color:var(--mid-gray);margin-bottom:24px">SAMHIN is a 501(c)(3) nonprofit. All donations are tax-deductible.</p>

        <!-- FREQUENCY -->
        <div class="freq-toggle">
          <button class="freq-btn" onclick="setFreq('once',this)">Give Once</button>
          <button class="freq-btn active" onclick="setFreq('monthly',this)">Give Monthly</button>
          <button class="freq-btn" onclick="setFreq('yearly',this)">Give Yearly</button>
        </div>

        <!-- AMOUNTS -->
        <label style="font-size:0.85rem;font-weight:600;margin-bottom:8px;display:block">Select Amount</label>
        <div class="amount-grid">
          <div class="amount-btn" onclick="selectAmount(this,'25')"><span class="label">$25</span><span class="sub">1 month support</span></div>
          <div class="amount-btn selected" onclick="selectAmount(this,'50')"><span class="label">$50</span><span class="sub">2 months support</span></div>
          <div class="amount-btn" onclick="selectAmount(this,'100')"><span class="label">$100</span><span class="sub">Group sessions</span></div>
          <div class="amount-btn" onclick="selectAmount(this,'250')"><span class="label">$250</span><span class="sub">Health fair</span></div>
        </div>
        <div class="form-group">
          <label class="form-label">Or enter a custom amount</label>
          <div style="position:relative"><span style="position:absolute;left:14px;top:50%;transform:translateY(-50%);font-weight:600;color:var(--mid-gray)">$</span>
          <input class="form-input" id="custom-amount" type="number" placeholder="Other amount" style="padding-left:28px" oninput="document.querySelectorAll('.amount-btn').forEach(b=>b.classList.remove('selected'))"></div>
        </div>

        <!-- PAYMENT METHOD -->
        <label style="font-size:0.85rem;font-weight:600;margin-bottom:8px;display:block">Payment Method</label>
        <div class="payment-methods">
          <div class="pay-method selected" onclick="selectPay(this)"><div class="icon">üí≥</div><div class="name">Credit / Debit</div></div>
          <div class="pay-method" onclick="selectPay(this)"><div class="icon">üì±</div><div class="name">Zelle</div></div>
          <div class="pay-method" onclick="selectPay(this)"><div class="icon">üí∏</div><div class="name">Venmo</div></div>
        </div>

        <div id="card-fields">
          <div class="form-group">
            <label class="form-label">Card Number</label>
            <input class="form-input" type="text" placeholder="1234 5678 9012 3456" maxlength="19" oninput="formatCard(this)">
          </div>
          <div class="form-row">
            <div class="form-group"><label class="form-label">Expiry</label><input class="form-input" type="text" placeholder="MM/YY" maxlength="5"></div>
            <div class="form-group"><label class="form-label">CVV</label><input class="form-input" type="text" placeholder="123" maxlength="4"></div>
          </div>
        </div>
        <div id="zelle-info" style="display:none;background:var(--warm-cream);border-radius:10px;padding:16px;margin-bottom:16px;font-size:0.88rem">
          <strong>Send via Zelle to:</strong> info@samhin.org<br>
          <span style="color:var(--mid-gray)">Include your name in the memo so we can send a receipt.</span>
        </div>
        <div id="venmo-info" style="display:none;background:var(--warm-cream);border-radius:10px;padding:16px;margin-bottom:16px;font-size:0.88rem">
          <strong>Send via Venmo to:</strong> @SAMHIN-Org<br>
          <span style="color:var(--mid-gray)">Include your name in the memo so we can send a receipt.</span>
        </div>

        <div class="form-row">
          <div class="form-group"><label class="form-label">First Name</label><input class="form-input" type="text"></div>
          <div class="form-group"><label class="form-label">Last Name</label><input class="form-input" type="text"></div>
        </div>
        <div class="form-group"><label class="form-label">Email (for receipt)</label><input class="form-input" type="email" placeholder="your@email.com"></div>

        <div class="form-group">
          <div class="checkbox-group">
            <input type="checkbox" id="employer-match">
            <label for="employer-match">My employer may match my donation. <a href="#matching" style="color:var(--deep-teal)">Check if your company matches ‚Üí</a></label>
          </div>
        </div>
        <button class="btn-primary" style="width:100%;padding:14px;font-size:1rem" onclick="document.getElementById('donate-success').classList.add('show')">Donate Now ü§ç</button>
        <p style="font-size:0.75rem;color:var(--mid-gray);margin-top:10px;text-align:center">üîí Secure & encrypted. SAMHIN is a registered 501(c)(3) nonprofit. EIN: 46-XXXXXXX</p>
      </div>

      <!-- EMPLOYER MATCHING -->
      <div class="donate-card" style="margin-top:24px" id="matching">
        <h3 style="font-family:'Lora',serif;font-size:1.1rem;margin-bottom:8px">üè¢ Employer Matching Gifts</h3>
        <p style="font-size:0.85rem;color:var(--mid-gray);line-height:1.6;margin-bottom:16px">Many employers match charitable contributions ‚Äî potentially doubling or tripling your gift. Check if your company has a matching gift program:</p>
        <div style="display:flex;gap:10px">
          <input class="form-input" type="text" placeholder="Enter your employer or company name‚Ä¶" style="flex:1">
          <button class="btn-primary" onclick="alert('Employer matching lookup powered by HEPdata. Your company may double your donation!')">Check</button>
        </div>
      </div>
    </div>

    <!-- SIDEBAR -->
    <div>
      <div class="donate-card" style="margin-bottom:20px">
        <h3 style="font-family:'Lora',serif;font-size:1.1rem;margin-bottom:16px">‚ù§Ô∏è Your Impact</h3>
        <div class="impact-uses">
          <div class="impact-use"><div class="icon">ü§ù</div><h4>$25</h4><p>Funds one month of free support group access for a community member.</p></div>
          <div class="impact-use"><div class="icon">ü©∫</div><h4>$50</h4><p>Helps maintain the free provider directory serving 500+ therapists.</p></div>
          <div class="impact-use"><div class="icon">üéì</div><h4>$100</h4><p>Supports production of one community education workshop.</p></div>
          <div class="impact-use"><div class="icon">üåê</div><h4>$250</h4><p>Funds SAMHIN's presence at a community health fair reaching 100+ people.</p></div>
        </div>
      </div>

      <div class="donate-card">
        <h3 style="font-family:'Lora',serif;font-size:1rem;margin-bottom:14px">üôè Recent Supporters</h3>
        <div class="donor-scroll">
          <div class="donor-item"><div><div class="name">Anonymous</div><div class="time">2 hours ago</div></div><div class="amount">$50/mo</div></div>
          <div class="donor-item"><div><div class="name">Meena S.</div><div class="time">5 hours ago</div></div><div class="amount">$100</div></div>
          <div class="donor-item"><div><div class="name">Raj & Priya K.</div><div class="time">Yesterday</div></div><div class="amount">$250</div></div>
          <div class="donor-item"><div><div class="name">Anonymous</div><div class="time">2 days ago</div></div><div class="amount">$25/mo</div></div>
          <div class="donor-item"><div><div class="name">Arjun Foundation</div><div class="time">3 days ago</div></div><div class="amount">$1,000</div></div>
          <div class="donor-item"><div><div class="name">Sunita T.</div><div class="time">4 days ago</div></div><div class="amount">$50</div></div>
          <div class="donor-item"><div><div class="name">Anonymous</div><div class="time">1 week ago</div></div><div class="amount">$75/mo</div></div>
          <div class="donor-item"><div><div class="name">Dr. V. Makhija</div><div class="time">1 week ago</div></div><div class="amount">$500</div></div>
        </div>
        <p style="font-size:0.75rem;color:var(--mid-gray);margin-top:12px;text-align:center">Join 565+ supporters who have donated to SAMHIN</p>
      </div>
    </div>
  </div>
</section>

<!-- SUCCESS POPUP -->
<div class="popup-overlay" id="donate-success">
  <div class="popup-box">
    <div class="popup-icon">üíö</div>
    <h3 style="font-family:'Lora',serif;font-size:1.5rem;margin-bottom:8px">Thank You!</h3>
    <p style="font-size:0.9rem;color:var(--mid-gray);line-height:1.6;margin-bottom:20px">Your donation makes a real difference. A tax receipt will be sent to your email. SAMHIN is grateful for your support.</p>
    <button class="btn-primary" onclick="document.getElementById('donate-success').classList.remove('show')">Close</button>
  </div>
</div>

<footer id="main-footer"></footer>
<script src="shared.js"></script>
<script>
  injectTopBar(); injectNav('donate.html'); injectFooter();

  // Show year-end popup in Nov/Dec
  const m = new Date().getMonth();
  if (m === 10 || m === 11) setTimeout(() => document.getElementById('yearend-popup').classList.add('show'), 2000);

  function setFreq(freq, el) {
    document.querySelectorAll('.freq-btn').forEach(b => b.classList.remove('active'));
    el.classList.add('active');
  }
  function selectAmount(el, amt) {
    document.querySelectorAll('.amount-btn').forEach(b => b.classList.remove('selected'));
    el.classList.add('selected');
    document.getElementById('custom-amount').value = '';
  }
  function selectPay(el) {
    document.querySelectorAll('.pay-method').forEach(b => b.classList.remove('selected'));
    el.classList.add('selected');
    document.getElementById('card-fields').style.display = 'none';
    document.getElementById('zelle-info').style.display = 'none';
    document.getElementById('venmo-info').style.display = 'none';
    const name = el.querySelector('.name').textContent;
    if (name.includes('Credit')) document.getElementById('card-fields').style.display = 'block';
    else if (name.includes('Zelle')) document.getElementById('zelle-info').style.display = 'block';
    else if (name.includes('Venmo')) document.getElementById('venmo-info').style.display = 'block';
  }
  function formatCard(input) {
    let v = input.value.replace(/\D/g,'').slice(0,16);
    input.value = v.replace(/(.{4})/g,'$1 ').trim();
  }
</script>
</body>
</html>
